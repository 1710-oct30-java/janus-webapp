<div class="row" *ngIf="hasBarChartData">

  <div class="col-sm-12 col-md-12 col-lg-12">
    <div class="panel panel-default">

      <div class="panel-heading"> Last Quality Audit

        <select class="pull-right" [(ngModel)]="selectedBarCity" *ngIf="selectedState" (ngModelChange)="hasCity($event)">
          <option value="">All Cities</option>
          <option *ngFor="let city of cities" [ngValue]="city">{{city}}</option>
        </select>

        <select class="pull-right" [(ngModel)]="selectedBarState" (ngModelChange)="findCities($event)">
          <option value="">All States</option>
          <option *ngFor="let state of states" [ngValue]="state">{{state}}</option>
        </select>

      </div>
      <div class="panel-body">
        <div class="chart-container top5">

          <canvas baseChart 
          class="chart chart-bar" 
          [datasets]="barChartData.data" 
          [labels]="barChartData.labels"
          [colors]="barChartData.colors" 
          [options]="barChartData.options" 
          [chartType]="barChartData.type" 
          (chartClick)="onClick($event)">
          </canvas> 
          <!-- <canvas id="chart1" baseChart
            [datasets]="barChartData"
            [labels]="barChartLabels"
            [options]="barChartOptions"
            [chartType]="barChartType"
            (chartHover)="chartHovered($event)"
            (chartClick)="chartClicked($event)"></canvas> -->
        </div>
        <div>
          <table class="table table-responsive" style="border-collapse: collapse;">
            <tbody>
              <tr>
                <th class="col-sm-2 col-md-2 col-lg-2"></th>
                <th class="col-sm-2 col-md-2 col-lg-2" *ngFor="let data of barChartData.data">{{data.label}}</th>
                <th class="col-sm-2 col-md-2 col-lg-2">Overall Batch Status</th>
              </tr>
              <tr *ngFor="let label of barChartData.labels; let j = index;">
                <th class="col-sm-2 col-md-2 col-lg-2">{{label}}</th>
                <td class="col-sm-2 col-md-2 col-lg-2" *ngFor="let dataPoint of barChartData.data">{{dataPoint.data}}</td>
                <!-- <td class="overall-batch-health" ng-init="getOverallBatchFeedbackMap()" ng-class="{'color-red': qcOverallNotes[stackedBarIds[$index]] === 'Poor', 'color-yellow': qcOverallNotes[stackedBarIds[$index]] === 'Average', 'color-green': qcOverallNotes[stackedBarIds[$index]] === 'Good'}">{{qcOverallNotes[stackedBarIds[$index]]}}</td> -->
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
<<<<<<< HEAD
-->
=======
</div>
>>>>>>> 5388e0de33e154bad762893a1348706e0ea96a1e
